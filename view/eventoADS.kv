<GerenciaTelas>:
    TelaInicial:
    CadastroAutor:
    ListarAutores:
    CadastroArtigo:
    ListarArtigos:


<TelaInicial>:
    name: 'TelaInicial'
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        canvas:
            Rectangle:
                source: 'logo.png'
                pos: root.pos
                size: self.size
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 200
            size_hint_x: .5
            Label:
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, .7
                    Rectangle:
                        pos: self.pos
                        size: self.size

                text: "Autores"
                color: [0,0,0,.7]
                font_size: "18sp"
            Button:
                on_release: app.root.tela_cadastro_autor(self)
                text: 'Cadastrar'

            Button:
                on_release: app.root.tela_listar_autor()
                text: 'Listar Autores'
            Label:
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, .7
                    Rectangle:
                        pos: self.pos
                        size: self.size
                text: "Artigos"
                font_size: "18sp"
                color: [0,0,0,.7]

            Button:
                on_release: app.root.tela_cadastro_artigo()
                text: 'Cadastrar'

            Button:
                on_release: app.root.tela_listar_artigos()
                text: 'Listar Artigos'

# termino da telaInicial

#iniciao tela cadastro turma
<CadastroAutor>:
    name: 'CadastroAutor'

    #variáveis globais:
    lbl_id_autor: lblId
    txi_nome: inputNome
    txi_instituicao: inputInstituicao
    txi_email: inputEmail
    bt_cad_atual: btCadAtual


    AnchorLayout:
        id: interno
        anchor_x: 'center'
        anchor_y: 'center'
        BoxLayout:
            id: interno1
            orientation: 'vertical'
            size_hint: [0.7, 1]
            canvas:
                Color:
                    rgba: .30, .25, .1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                text: 'ID:'
                size_hint: [1,.25]

            Label:
                id: lblId
                color:[0,0,0,.8]
                size_hint: [1, .15]
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, .6
                    Rectangle:
                        pos: self.pos
                        size: self.size

            Label:
                text: "Nome:"
                size_hint: [1, .25]

            TextInput:
                id: inputNome
                hint_text: 'Informe seu nome'
                size_hint: [1, .15]
                multiline: False

            Label:
                text: "Instituicao:"
                size_hint: [1, .25]

            TextInput:
                id: inputInstituicao
                hint_text: 'Informe a instituicao do autor'
                size_hint: [1, .15]
                multiline: False

            Label:
                text: "Email:"
                size_hint: [1, .25]

            TextInput:
                id: inputEmail
                hint_text: 'Informe o email do autor'
                size_hint: [1, .15]
                multiline: False

            GridLayout:
                cols: 2
                size_hint: [1, 0.25]
                Button:
                    id: btCadAtual
                    on_release: app.root.cadastrar_atualizar_autor()
                    text: 'Cadastrar'
                    size_hint: [1, 0.25]

                Button:
                    on_release: app.root.tela_inicial()
                    text: 'Tela Inicial'
                    size_hint: [1, 0.25]

<ListarAutores>:
    name: 'ListarAutores'

    #variáveis
    id_autor: inputId
    col_id: colId
    col_nome: colNome
    col_instituicao: colInstituicao
	col_email: colEmail
    lbl_atualizar: lblAtual
    lbl_excluir: lblExcluir
    grid_lista: listaTurmas

    BoxLayout:
        orientation: 'vertical'
        canvas:
            Color:
                rgba: .30, .25, .1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: 'Pesquisar Autores:'
            font_size: '18sp'
            size_hint_y: None
            height: '50dp'

        GridLayout:
            cols: 3
            size_hint_y: None
            height: '30dp'
            size_hint_x: .5

            Label:
                text:'Id'

            TextInput:
                id: inputId
                hint_text: 'Id para pesquisa'
                size_hint: [1, 1]
                multiline: False

            Button:
                on_release: app.root.buscar_autores()
                text: 'Pesquisar...'
                size_hint: [1, 1]

        GridLayout:
            id: listaTurmas
            cols: 6
            size_hint_y: None
            height: '400dp'
            canvas:
                Color:
                    rgba: .80, .69, .58, .6
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                id: colId
                text: 'Id'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .2
                color: [0,0,0,1]

            Label:
                id: colNome
                text: 'Nome'
                size_hint_y: None
                height: '20dp'
                size_hint_x: .6
                color: [0,0,0,1]

            Label:
                id: colInstituicao
                text: 'Instituicao'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .3
                color: [0,0,0,1]

            Label:
                id: colEmail
                text: 'Email'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .2
                color: [0,0,0,1]

            Label:
                id: lblAtual
                text: 'Atualizar'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .1
                color: [0,0,0,1]
            Label:
                id: lblExcluir
                text: 'Excluir'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .1
                color: [0,0,0,1]


        AnchorLayout:
            id: interno
            anchor_x: 'center'
            anchor_y: 'center'
            GridLayout:
                cols: 2

                Button:
                    on_release: app.root.tela_inicial()
                    text: 'Tela Inicial'
                    size_hint_y: .5
                    size_hint_x: .3

<CadastroArtigo>:
    name: "CadastroArtigo"

    #variáveis globais
    lbl_id: lblIdArtigo
    txi_titulo: txtTitulo
    txi_palavras_chave: txtPalavras_chave
    sp_autor: spAutor
    bt_cad_atual: btCadAtualArtigo

    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        BoxLayout:
            orientation: 'vertical'
            size_hint: [0.7, .8]
            canvas:
                Color:
                    rgba: .30, .25, .1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                text: 'ID:'
                size_hint: [1,.25]

            Label:
                id: lblIdArtigo
                color:[0,0,0,.8]
                size_hint: [1, .15]
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, .6
                    Rectangle:
                        pos: self.pos
                        size: self.size

            Label:
                text: "Titulo do artigo:"
                size_hint: [1, .25]

            TextInput:
                id: txtTitulo
                hint_text: 'Digite o nome do artigo...'
                size_hint: [1, .15]
                multiline: False

            Label:
                text: 'Palavras Chave do Artigo:'
                size_hint: [1, .25]
            TextInput:
                id: txtPalavras_chave
                size_hint: [1, .15]
                multiline: True

            Label:
                text: 'Autor:'
                size_hint: [1, .25]

            Spinner:
                id: spAutor
                text: 'Selecione...'
                size_hint: [1,.15]
                height: "15dp"
                background_color:(0,0,0,.5)
                color: [1,1,1,1]

            GridLayout:
                cols: 2
                size_hint: [1, 0.25]
                padding : [0,20,0,0]

                Button:
                    id: btCadAtualArtigo
                    on_release: app.root.cadastrar_atualizar_artigo()
                    text: 'Cadastrar'
                    size_hint: [1, 0.25]

                Button:
                    on_release: app.root.tela_inicial()
                    text: 'Tela Inicial'
                    size_hint: [1, 0.25]


<listarArtigos>:
    name: "ListarArtigos"

    #variáveis globais
    txi_pesq_nome: txi_pesq_nome
    gl_pesquisa_nome: pesqNome
    layout_lista_artigos: listaArtigos
    pesq: pesquisas

    BoxLayout:
        id: pesquisas
        orientation: 'vertical'
        canvas:
            Color:
                rgba: .30, .25, .1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: 'Pesquisar Alunos:'
            font_size: '18sp'
            size_hint_y: None
            height: '50dp'

        GridLayout:
            id: pesqNome
            cols: 3
            size_hint_y: None
            height: '30dp'
            size_hint_x: .7
            Label:
                text:'Nome'
            TextInput:
                id: txi_pesq_nome
                hint_text: 'Nome para pesquisa'
                size_hint: [1, 1]
                multiline: False
            Button:
                on_release: app.root.buscar_artigos_nome(root.txi_pesq_nome.text)
                text: 'Pesquisar...'
                size_hint: [1, 1]

        GridLayout:
            id: listaArtigos
            cols: 7
            size_hint_y: None
            height: '400dp'
            canvas:
                Color:
                    rgba: .80, .69, .58, .6
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                id: col_id
                text: 'ID'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .1
                color: [0,0,0,1]

            Label:
                id: col_titulo
                text: 'Título'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .4
                color: [0,0,0,1]
            Label:
                id: col_palavras_chave
                text: 'Palavras Chave'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .1
                color: [0,0,0,1]

            Label:
                id: col_autor
                text: 'Autor'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .1
                color: [0,0,0,1]
            Label:
                id: lbl_atual
                text: 'Atualizar'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .1
                color: [0,0,0,1]
            Label:
                id: lbl_excluir
                text: 'Excluir'
                size_hint_y: None
                height: '30dp'
                size_hint_x: .1
                color: [0,0,0,1]


        AnchorLayout:
            id: interno
            anchor_x: 'center'
            anchor_y: 'center'

            Button:
                on_release: app.root.tela_inicial()
                text: 'Tela Inicial'
                size_hint_y: .5
                size_hint_x: .3


